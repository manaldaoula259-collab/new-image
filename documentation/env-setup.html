<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Environment Variables Setup ‚Äì MyDzine Docs</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="./styles.css" />
  <script defer src="./script.js"></script>
</head>

<body>
  <aside class="sidebar">
    <div class="brand">
      <img src="./screenshots/logo.svg" alt="MyDzine Logo" />
      <div>
        <h1>MyDzine</h1>
        <p>Documentation v2.0</p>
      </div>
    </div>
    <nav>
      <a href="./index.html">Welcome</a>
      <a href="./how-to-use.html">User Guide</a>
      <a href="./push-to-github.html">How to push to GitHub</a>
      <a href="./install-vercel.html">How to install on Vercel</a>
      <a href="./install-aws-ec2.html">How to install on AWS EC2</a>
      <a href="./clerk-setup.html">Clerk Authentication Setup</a>
      <a href="./mongodb-setup.html">MongoDB Database Setup</a>
      <a href="./replicate-setup.html">Replicate API Setup</a>
      <a class="active" href="./env-setup.html">Environment Variables</a>
      <a href="./stripe-setup.html">Stripe Payment Setup</a>
      <a href="./frontend-customization.html">Frontend Customization</a>
      <a href="./pricing-credits.html">Pricing & Credits</a>
    </nav>
    <footer>
      <small>Built with Next.js 14 & MongoDB</small>
    </footer>
  </aside>

  <main class="content">
    <header class="topbar">
      <h2>Environment Variables Setup</h2>
    </header>

    <section class="prose">
      <div class="callout info">
        <strong>üîß Environment Configuration:</strong> Set up all required environment variables for MyDzine v2.0. This
        includes database connections, API keys, and service configurations.
      </div>

      <h2>üìã Complete .env.local Template</h2>

      <div class="callout warning">
        <strong>‚ö†Ô∏è Security Note:</strong> Never commit your <code>.env.local</code> file to version control. Add it to
        your <code>.gitignore</code> file to keep your secrets safe.
      </div>

      <pre><code># ===========================================
# MyDzine v2.0 - Environment Variables
# ===========================================
# Create .env.local in project root (Next.js automatically loads it)

# ===========================================
# FRONTEND CONFIGURATION (Public Variables)
# ===========================================

# Clerk Authentication (Public Key)
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxx

# Stripe Payment (Public Key)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxx

# Application URL
NEXT_PUBLIC_APP_URL=http://localhost:3000
# Production: NEXT_PUBLIC_APP_URL=https://yourdomain.com

# Replicate Instance Token (for avatar generation)
NEXT_PUBLIC_REPLICATE_INSTANCE_TOKEN=your-instance-token

# Studio Shot Amount (for pricing display)
NEXT_PUBLIC_STUDIO_SHOT_AMOUNT=50

# ===========================================
# DATABASE CONFIGURATION
# ===========================================

# MongoDB Connection (Required)
DATABASE_URL=mongodb+srv://username:password@cluster.mongodb.net/mydzine?retryWrites=true&w=majority
# Alternative variable name:
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/mydzine?retryWrites=true&w=majority

# ===========================================
# AUTHENTICATION (CLERK)
# ===========================================

# Clerk Secret Key (Required)
CLERK_SECRET_KEY=sk_test_xxxxxxxxxxxxx

# Clerk Webhook Secret (Required for webhooks)
CLERK_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxx

# ===========================================
# AI PROVIDERS (REPLICATE)
# ===========================================

# Replicate API Token (Required)
REPLICATE_API_TOKEN=r8_xxxxxxxxxxxxx

# Replicate Username (for model hosting)
REPLICATE_USERNAME=your-username

# Replicate Model Configuration
REPLICATE_MAX_TRAIN_STEPS=3000
NEXT_PUBLIC_REPLICATE_INSTANCE_TOKEN=your-instance-token

# Replicate HD Model Version ID (Optional)
REPLICATE_HD_VERSION_MODEL_ID=e440909d3512c31646ee2e0c7d6f6f4923224863a6a10c494606e79fb5844497

# Replicate Negative Prompt (Optional)
REPLICATE_NEGATIVE_PROMPT=text, watermark, label, signature, logo

# ===========================================
# PAYMENT PROCESSING (STRIPE)
# ===========================================

# Stripe Secret Key (Required)
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxx

# Stripe Webhook Secret (Required for webhooks)
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxx

# ===========================================
# STORAGE (AWS S3)
# ===========================================

# AWS S3 Configuration (Required)
S3_UPLOAD_BUCKET=your-bucket-name
S3_UPLOAD_REGION=us-east-1
S3_UPLOAD_KEY=your-access-key-id
S3_UPLOAD_SECRET=your-secret-access-key

# ===========================================
# AI PROMPT GENERATION (OPENAI - Optional)
# ===========================================

# OpenAI API Key (Optional - for prompt enhancement)
OPENAI_API_KEY=sk-xxxxxxxxxxxxx

# OpenAI Seed Prompt (Optional)
OPENAI_API_SEED_PROMPT=Create a detailed prompt for:

# ===========================================
# EMAIL CONFIGURATION (Optional)
# ===========================================

# Email Server Configuration
EMAIL_SERVER=smtp://username:password@smtp.example.com:587
EMAIL_FROM=noreply@mydzine.com

# ===========================================
# ANALYTICS & MONITORING (Optional)
# ===========================================

# Vercel Analytics (Automatic if deployed on Vercel)
# No configuration needed</code></pre>

      <h2>üìù Environment Variable Details</h2>

      <h3>üîê Authentication (Clerk)</h3>
      <table>
        <thead>
          <tr>
            <th>Variable</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY</code></td>
            <td>Public key from Clerk Dashboard ‚Üí API Keys</td>
            <td>‚úÖ Yes</td>
          </tr>
          <tr>
            <td><code>CLERK_SECRET_KEY</code></td>
            <td>Secret key from Clerk Dashboard ‚Üí API Keys</td>
            <td>‚úÖ Yes</td>
          </tr>
          <tr>
            <td><code>CLERK_WEBHOOK_SECRET</code></td>
            <td>Webhook secret from Clerk Dashboard ‚Üí Webhooks</td>
            <td>‚úÖ Yes</td>
          </tr>
        </tbody>
      </table>

      <h3>ü§ñ AI Processing (Replicate)</h3>
      <table>
        <thead>
          <tr>
            <th>Variable</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>REPLICATE_API_TOKEN</code></td>
            <td>API token from Replicate Account Settings</td>
            <td>‚úÖ Yes</td>
          </tr>
          <tr>
            <td><code>REPLICATE_USERNAME</code></td>
            <td>Your Replicate username (for model hosting)</td>
            <td>‚úÖ Yes</td>
          </tr>
          <tr>
            <td><code>NEXT_PUBLIC_REPLICATE_INSTANCE_TOKEN</code></td>
            <td>Instance token for avatar generation models</td>
            <td>‚úÖ Yes</td>
          </tr>
        </tbody>
      </table>

      <h3>üí≥ Payments (Stripe)</h3>
      <table>
        <thead>
          <tr>
            <th>Variable</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY</code></td>
            <td>Publishable key from Stripe Dashboard ‚Üí Developers ‚Üí API keys</td>
            <td>‚úÖ Yes</td>
          </tr>
          <tr>
            <td><code>STRIPE_SECRET_KEY</code></td>
            <td>Secret key from Stripe Dashboard ‚Üí Developers ‚Üí API keys</td>
            <td>‚úÖ Yes</td>
          </tr>
          <tr>
            <td><code>STRIPE_WEBHOOK_SECRET</code></td>
            <td>Webhook secret from Stripe Dashboard ‚Üí Developers ‚Üí Webhooks</td>
            <td>‚úÖ Yes</td>
          </tr>
        </tbody>
      </table>

      <h3>üóÑÔ∏è Database (MongoDB)</h3>
      <table>
        <thead>
          <tr>
            <th>Variable</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>DATABASE_URL</code></td>
            <td>MongoDB connection string from Atlas or local instance</td>
            <td>‚úÖ Yes</td>
          </tr>
          <tr>
            <td><code>MONGODB_URI</code></td>
            <td>Alternative variable name (same as DATABASE_URL)</td>
            <td>‚ö†Ô∏è If DATABASE_URL not set</td>
          </tr>
        </tbody>
      </table>

      <h3>‚òÅÔ∏è Storage (AWS S3)</h3>
      <table>
        <thead>
          <tr>
            <th>Variable</th>
            <th>Description</th>
            <th>Required</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>S3_UPLOAD_BUCKET</code></td>
            <td>AWS S3 bucket name for image storage</td>
            <td>‚úÖ Yes</td>
          </tr>
          <tr>
            <td><code>S3_UPLOAD_REGION</code></td>
            <td>AWS region where bucket is located (e.g., us-east-1)</td>
            <td>‚úÖ Yes</td>
          </tr>
          <tr>
            <td><code>S3_UPLOAD_KEY</code></td>
            <td>AWS Access Key ID</td>
            <td>‚úÖ Yes</td>
          </tr>
          <tr>
            <td><code>S3_UPLOAD_SECRET</code></td>
            <td>AWS Secret Access Key</td>
            <td>‚úÖ Yes</td>
          </tr>
        </tbody>
      </table>

      <h2>üîß Setup Instructions</h2>

      <h3>Step 1: Create .env.local File</h3>
      <ol class="steps">
        <li class="step">In your project root, create a new file named <code>.env.local</code></li>
        <li class="step">Copy the template above into the file</li>
        <li class="step">Replace all placeholder values with your actual keys</li>
      </ol>

      <h3>Step 2: Get Required API Keys</h3>
      <div class="callout info">
        <strong>üìö Follow these guides to get your API keys:</strong>
        <ul>
          <li><a href="./clerk-setup.html">Clerk Authentication Setup</a> - For authentication keys</li>
          <li><a href="./replicate-setup.html">Replicate API Setup</a> - For AI processing token</li>
          <li><a href="./stripe-setup.html">Stripe Payment Setup</a> - For payment processing keys</li>
          <li><a href="./mongodb-setup.html">MongoDB Database Setup</a> - For database connection string</li>
        </ul>
      </div>

      <h3>Step 3: Configure AWS S3</h3>
      <ol class="steps">
        <li class="step">Create an AWS account (if you don't have one)</li>
        <li class="step">Go to S3 Console and create a new bucket</li>
        <li class="step">Set bucket permissions for public read access (or configure CORS)</li>
        <li class="step">Create IAM user with S3 access permissions</li>
        <li class="step">Generate Access Key ID and Secret Access Key</li>
        <li class="step">Add credentials to <code>.env.local</code></li>
      </ol>

      <h3>Step 4: Verify Configuration</h3>
      <ol class="steps">
        <li class="step">Start the development server: <code>npm run dev</code></li>
        <li class="step">Check console for any missing environment variable warnings</li>
        <li class="step">Test authentication by trying to sign up/login</li>
        <li class="step">Test AI tools to ensure Replicate API is working</li>
      </ol>

      <div class="callout warning">
        <strong>‚ö†Ô∏è Important Notes:</strong>
        <ul>
          <li><strong>Development vs Production:</strong> Use test keys for development and production keys for
            deployment</li>
          <li><strong>Variable Names:</strong> Variables prefixed with <code>NEXT_PUBLIC_</code> are exposed to the
            browser</li>
          <li><strong>Security:</strong> Never commit <code>.env.local</code> to version control</li>
          <li><strong>Restart Server:</strong> Always restart your dev server after changing environment variables</li>
        </ul>
      </div>

      <h2>üöÄ Production Deployment</h2>

      <p>For production deployments, set these variables in your hosting platform:</p>

      <h3>AWS EC2</h3>
      <ol class="steps">
        <li class="step">Create a <code>.env</code> file on your server</li>
        <li class="step">Copy all variables from <code>.env.local</code></li>
        <li class="step">Update <code>NEXT_PUBLIC_APP_URL</code> to your production domain</li>
        <li class="step">Use production API keys (not test keys)</li>
      </ol>

      <h3>Vercel</h3>
      <ol class="steps">
        <li class="step">Go to Project Settings ‚Üí Environment Variables</li>
        <li class="step">Add each variable individually</li>
        <li class="step">Select appropriate environment (Production, Preview, Development)</li>
        <li class="step">Redeploy your application</li>
      </ol>

      <div class="callout success">
        <strong>‚úÖ Next Steps:</strong> Once your environment variables are configured, proceed to:
        <ul>
          <li><a href="./clerk-setup.html">Set up Clerk Authentication</a></li>
          <li><a href="./mongodb-setup.html">Configure MongoDB Database</a></li>
          <li><a href="./replicate-setup.html">Configure Replicate API</a></li>
          <li><a href="./stripe-setup.html">Set up Stripe Payments</a></li>
        </ul>
      </div>
    </section>
  </main>
</body>

</html>