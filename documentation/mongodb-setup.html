<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MongoDB Setup ‚Äì MyDzine Docs</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="./styles.css" />
  <script defer src="./script.js"></script>
</head>

<body>
  <aside class="sidebar">
    <div class="brand">
      <img src="./screenshots/logo.svg" alt="MyDzine Logo" />
      <div>
        <h1>MyDzine</h1>
        <p>Documentation v2.0</p>
      </div>
    </div>
    <nav>
      <a href="./index.html">Welcome</a>
      <a href="./how-to-use.html">User Guide</a>
      <a href="./push-to-github.html">How to push to GitHub</a>
      <a href="./install-vercel.html">How to install on Vercel</a>
      <a href="./install-aws-ec2.html">How to install on AWS EC2</a>
      <a href="./clerk-setup.html">Clerk Authentication Setup</a>
      <a class="active" href="./mongodb-setup.html">MongoDB Database Setup</a>
      <a href="./replicate-setup.html">Replicate API Setup</a>
      <a href="./env-setup.html">Environment Variables</a>
      <a href="./stripe-setup.html">Stripe Payment Setup</a>
      <a href="./frontend-customization.html">Frontend Customization</a>
      <a href="./pricing-credits.html">Pricing & Credits</a>
    </nav>
    <footer>
      <small>Built with Next.js 14 & MongoDB</small>
    </footer>
  </aside>

  <main class="content">
    <header class="topbar">
      <h2>MongoDB Database Setup</h2>
    </header>

    <section class="prose">
      <div class="callout">
        <strong>üóÑÔ∏è About MongoDB:</strong> MyDzine uses MongoDB to store user data, media library (images and prompts),
        credit balances, transaction history, projects, shots, and user statistics. You can use MongoDB Atlas (cloud) or
        a self-hosted MongoDB instance.
      </div>

      <h3>Why MongoDB for MyDzine?</h3>
      <p>MongoDB is the perfect database choice for MyDzine because:</p>
      <ul>
        <li><strong>Flexible Schema:</strong> Perfect for storing varied image data, media library, projects, and
          user-generated content</li>
        <li><strong>Scalability:</strong> Handles growing user bases and large media collections</li>
        <li><strong>JSON-like Documents:</strong> Natural fit for JavaScript/Node.js applications</li>
        <li><strong>Cloud-Ready:</strong> MongoDB Atlas provides managed hosting</li>
        <li><strong>Performance:</strong> Fast queries for media library, credit tracking, and user analytics</li>
      </ul>

      <h3>Option 1: MongoDB Atlas (Recommended)</h3>
      <p>MongoDB Atlas is the easiest way to get started with MongoDB. It provides a free tier perfect for development
        and small applications.</p>

      <h4>Step 1: Create MongoDB Atlas Account</h4>
      <ol class="steps">
        <li class="step">Go to <a href="https://www.mongodb.com/atlas" target="_blank" rel="noopener">MongoDB Atlas</a>
        </li>
        <li class="step">Click "Try Free" to create a new account</li>
        <li class="step">Fill in your details and verify your email</li>
        <li class="step">Choose the "Free" tier (M0 Sandbox)</li>
      </ol>

      <div style="text-align: center; margin: 24px 0;">
        <img src="./Mongodb/01.png" alt="MongoDB Atlas Homepage"
          style="max-width: 100%; border-radius: var(--radius); box-shadow: var(--shadow-md);" />
        <p style="font-size: 14px; color: var(--muted); margin-top: 8px;">MongoDB Atlas homepage - Click "Try Free" to
          get started</p>
      </div>

      <div style="text-align: center; margin: 24px 0;">
        <img src="./Mongodb/02.png" alt="MongoDB Atlas Sign Up"
          style="max-width: 100%; border-radius: var(--radius); box-shadow: var(--shadow-md);" />
        <p style="font-size: 14px; color: var(--muted); margin-top: 8px;">Create your MongoDB Atlas account with your
          details</p>
      </div>

      <h4>Step 2: Create a Cluster</h4>
      <ol class="steps">
        <li class="step">After logging in, click "Build a Database"</li>
        <li class="step">Select "M0 Sandbox" (Free tier)</li>
        <li class="step">Choose a cloud provider and region (closest to your users)</li>
        <li class="step">Give your cluster a name (e.g., "mydzine-cluster")</li>
        <li class="step">Click "Create Cluster"</li>
      </ol>

      <div style="text-align: center; margin: 24px 0;">
        <img src="./Mongodb/03.png" alt="MongoDB Atlas Dashboard"
          style="max-width: 100%; border-radius: var(--radius); box-shadow: var(--shadow-md);" />
        <p style="font-size: 14px; color: var(--muted); margin-top: 8px;">MongoDB Atlas dashboard - Click "Build a
          Cluster" to get started</p>
      </div>

      <div style="text-align: center; margin: 24px 0;">
        <img src="./Mongodb/04.png" alt="Create Cluster - Choose Free Tier"
          style="max-width: 100%; border-radius: var(--radius); box-shadow: var(--shadow-md);" />
        <p style="font-size: 14px; color: var(--muted); margin-top: 8px;">Select the Free tier (M0 Sandbox) for
          development</p>
      </div>

      <div style="text-align: center; margin: 24px 0;">
        <img src="./Mongodb/05.png" alt="Deploy Cluster Configuration"
          style="max-width: 100%; border-radius: var(--radius); box-shadow: var(--shadow-md);" />
        <p style="font-size: 14px; color: var(--muted); margin-top: 8px;">Configure your cluster name and settings, then
          click "Create Deployment"</p>
      </div>

      <div class="callout">
        <strong>‚è±Ô∏è Note:</strong> Cluster creation takes 3-5 minutes. You'll receive an email when it's ready.
      </div>

      <h4>Step 3: Create Database User</h4>
      <ol class="steps">
        <li class="step">In the Atlas dashboard, go to "Database Access"</li>
        <li class="step">Click "Add New Database User"</li>
        <li class="step">Choose "Password" authentication</li>
        <li class="step">Create a username and strong password</li>
        <li class="step">Set privileges to "Read and write to any database"</li>
        <li class="step">Click "Add User"</li>
      </ol>

      <div class="callout">
        <strong>üîë Important:</strong> Save the username and password securely. You'll need them for the connection
        string.
      </div>

      <div style="text-align: center; margin: 24px 0;">
        <img src="./Mongodb/06.png" alt="Connect to InvestStocks - Choose Connection Method"
          style="max-width: 100%; border-radius: var(--radius); box-shadow: var(--shadow-md);" />
        <p style="font-size: 14px; color: var(--muted); margin-top: 8px;">Choose your connection method - Select
          "Compass" for GUI access</p>
      </div>

      <h4>Step 4: Configure Network Access</h4>
      <ol class="steps">
        <li class="step">Go to "Network Access" in the Atlas dashboard</li>
        <li class="step">Click "Add IP Address"</li>
        <li class="step">For development: Click "Allow Access from Anywhere" (0.0.0.0/0)</li>
        <li class="step">For production: Add your server's IP address</li>
        <li class="step">Click "Confirm"</li>
      </ol>

      <div style="text-align: center; margin: 24px 0;">
        <img src="./Mongodb/08.png" alt="Network Access Configuration"
          style="max-width: 100%; border-radius: var(--radius); box-shadow: var(--shadow-md);" />
        <p style="font-size: 14px; color: var(--muted); margin-top: 8px;">Configure network access - Click "Allow Access
          from Anywhere" for development</p>
      </div>

      <div class="callout">
        <strong>üõ°Ô∏è Security Note:</strong> For production, restrict access to specific IP addresses only.
      </div>

      <h4>Step 5: Get Connection String</h4>
      <ol class="steps">
        <li class="step">Go to "Clusters" and click "Connect" on your cluster</li>
        <li class="step">Choose "Connect your application"</li>
        <li class="step">Select "Node.js" as the driver</li>
        <li class="step">Copy the connection string</li>
        <li class="step">Replace <code>&lt;password&gt;</code> with your database user password</li>
        <li class="step">Replace <code>&lt;dbname&gt;</code> with your database name (e.g., "ai-course-generator")</li>
      </ol>

      <div style="text-align: center; margin: 24px 0;">
        <img src="./Mongodb/07.png" alt="MongoDB Compass Connection Setup"
          style="max-width: 100%; border-radius: var(--radius); box-shadow: var(--shadow-md);" />
        <p style="font-size: 14px; color: var(--muted); margin-top: 8px;">Download MongoDB Compass and copy the
          connection string</p>
      </div>

      <div class="code">
        <pre><code>mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/ai-course-generator?retryWrites=true&w=majority</code></pre>
      </div>

      <h3>Option 2: Using MongoDB Compass (Recommended for Development)</h3>
      <p>MongoDB Compass is the official GUI for MongoDB, making it easy to visualize and manage your AI Course
        Generator database.</p>

      <h4>Step 1: Download MongoDB Compass</h4>
      <ol class="steps">
        <li class="step">Go to <a href="https://www.mongodb.com/products/compass" target="_blank" rel="noopener">MongoDB
            Compass</a></li>
        <li class="step">Download the version for your operating system</li>
        <li class="step">Install MongoDB Compass following the setup wizard</li>
        <li class="step">Launch the application</li>
      </ol>

      <h4>Step 2: Connect to Your MongoDB Atlas Cluster</h4>
      <ol class="steps">
        <li class="step">Open MongoDB Compass</li>
        <li class="step">Click "New Connection"</li>
        <li class="step">Paste your MongoDB Atlas connection string:
          <div class="code">
            <pre><code>mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/</code></pre>
          </div>
        </li>
        <li class="step">Click "Connect"</li>
      </ol>

      <div class="callout">
        <strong>üí° Pro Tip:</strong> You can get your connection string from Atlas by clicking "Connect" ‚Üí "Connect
        using MongoDB Compass" in your cluster dashboard.
      </div>

      <div style="text-align: center; margin: 24px 0;">
        <img src="./Mongodb/09.png" alt="MongoDB Atlas Cluster Overview"
          style="max-width: 100%; border-radius: var(--radius); box-shadow: var(--shadow-md);" />
        <p style="font-size: 14px; color: var(--muted); margin-top: 8px;">Your MongoDB Atlas cluster is ready - Click
          "Connect" to get connection details</p>
      </div>

      <h4>Step 3: View Your Data</h4>
      <p>Once connected, you can browse your AI Course Generator collections:</p>
      <ul>
        <li><strong>users</strong> - View user accounts and subscription plans</li>
        <li><strong>courses</strong> - Browse generated courses and modules</li>
        <li><strong>progress</strong> - Track course progress and completion</li>
        <li><strong>quizresponses</strong> - Monitor quiz attempts and scores</li>
        <li><strong>certificates</strong> - View generated course completion certificates</li>
        <li><strong>userstats</strong> - View user analytics and statistics</li>
      </ul>

      <div class="callout">
        <strong>üí° Tip:</strong> MongoDB Compass provides a visual interface to explore your database without writing
        queries. Perfect for monitoring course activity, user progress, and troubleshooting issues.
      </div>

      <h3>Connection String Configuration</h3>
      <p>Add your MongoDB connection string to your environment variables:</p>

      <h4>Environment Variable</h4>
      <p>Add this to your <code>.env.local</code> file:</p>
      <div class="code">
        <pre><code># MongoDB Atlas (Cloud)
MONGO_URI=mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/ai-course-generator?retryWrites=true&w=majority

# Self-hosted MongoDB
MONGO_URI=mongodb://username:password@localhost:27017/ai-course-generator</code></pre>
      </div>

      <h3>Database Schema</h3>
      <p>AI Course Generator automatically creates the following collections:</p>

      <div class="callout info">
        <h4>üìä Database Collections</h4>
        <div
          style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-top: 1rem;">
          <div
            style="background: var(--panel-2); padding: 1.5rem; border-radius: var(--radius); border: 2px solid var(--border);">
            <h5 style="margin: 0 0 0.5rem 0; color: var(--text);">üë• users</h5>
            <p style="margin: 0 0 1rem 0; color: var(--text-secondary);">Stores user account information, subscription
              plans, and preferences.</p>
            <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">_id</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">email</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">plan</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">createdAt</code>
            </div>
          </div>

          <div
            style="background: var(--panel-2); padding: 1.5rem; border-radius: var(--radius); border: 2px solid var(--border);">
            <h5 style="margin: 0 0 0.5rem 0; color: var(--text);">üìö courses</h5>
            <p style="margin: 0 0 1rem 0; color: var(--text-secondary);">Stores generated courses with modules, lessons,
              and content.</p>
            <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">title</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">modules</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">language</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">userId</code>
            </div>
          </div>

          <div
            style="background: var(--panel-2); padding: 1.5rem; border-radius: var(--radius); border: 2px solid var(--border);">
            <h5 style="margin: 0 0 0.5rem 0; color: var(--text);">üìä progress</h5>
            <p style="margin: 0 0 1rem 0; color: var(--text-secondary);">Tracks course progress, lesson completion, and
              learning analytics.</p>
            <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">courseId</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">completedLessons</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">progressPercentage</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">lastAccessedAt</code>
            </div>
          </div>

          <div
            style="background: var(--panel-2); padding: 1.5rem; border-radius: var(--radius); border: 2px solid var(--border);">
            <h5 style="margin: 0 0 0.5rem 0; color: var(--text);">üìù quizresponses</h5>
            <p style="margin: 0 0 1rem 0; color: var(--text-secondary);">Tracks quiz responses, scores, and completion
              times.</p>
            <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">courseId</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">score</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">answers</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">completedAt</code>
            </div>
          </div>

          <div
            style="background: var(--panel-2); padding: 1.5rem; border-radius: var(--radius); border: 2px solid var(--border);">
            <h5 style="margin: 0 0 0.5rem 0; color: var(--text);">üéì certificates</h5>
            <p style="margin: 0 0 1rem 0; color: var(--text-secondary);">Stores generated course completion certificates
              with QR codes.</p>
            <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">courseId</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">userId</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">certificateUrl</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">issuedAt</code>
            </div>
          </div>

          <div
            style="background: var(--panel-2); padding: 1.5rem; border-radius: var(--radius); border: 2px solid var(--border);">
            <h5 style="margin: 0 0 0.5rem 0; color: var(--text);">üìä userstats</h5>
            <p style="margin: 0 0 1rem 0; color: var(--text-secondary);">Tracks user analytics, statistics, and learning
              insights.</p>
            <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">userId</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">totalCourses</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">completedCourses</code>
              <code
                style="background: var(--panel); padding: 0.25rem 0.5rem; border-radius: 4px; border: 1px solid var(--border);">totalProgress</code>
            </div>
          </div>
        </div>
      </div>

      <div style="text-align: center; margin: 24px 0;">
        <img src="./Mongodb/10.png" alt="MongoDB Atlas Database Access Management"
          style="max-width: 100%; border-radius: var(--radius); box-shadow: var(--shadow-md);" />
        <p style="font-size: 14px; color: var(--muted); margin-top: 8px;">Database Access management - Add and manage
          database users</p>
      </div>

      <h3>Test Database Connection</h3>
      <p>Verify your MongoDB connection is working:</p>

      <h4>Test Connection</h4>
      <p>Start your development server and check the console for connection messages:</p>
      <div class="code">
        <pre><code>npm run dev
# or
pnpm dev</code></pre>
      </div>

      <p>Look for messages like:</p>
      <div class="code">
        <pre><code>‚úÖ Connected to MongoDB
‚úÖ Database connection established</code></pre>
      </div>

      <h3>Troubleshooting</h3>
      <div class="callout warning">
        <h4>üîß Common Issues</h4>
        <div
          style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-top: 1rem;">
          <div>
            <h5 style="margin: 0 0 0.5rem 0; color: var(--text);">‚è±Ô∏è Connection Timeout</h5>
            <p style="margin: 0; color: var(--text-secondary);">Check your network access settings in MongoDB Atlas and
              ensure your IP is whitelisted.</p>
          </div>

          <div>
            <h5 style="margin: 0 0 0.5rem 0; color: var(--text);">üîë Authentication Failed</h5>
            <p style="margin: 0; color: var(--text-secondary);">Verify your username and password are correct in the
              connection string.</p>
          </div>

          <div>
            <h5 style="margin: 0 0 0.5rem 0; color: var(--text);">üóÑÔ∏è Database Not Found</h5>
            <p style="margin: 0; color: var(--text-secondary);">Ensure the database name in your connection string
              matches your intended database.</p>
          </div>

          <div>
            <h5 style="margin: 0 0 0.5rem 0; color: var(--text);">üö´ Permission Denied</h5>
            <p style="margin: 0; color: var(--text-secondary);">Check that your database user has read/write permissions
              for the database.</p>
          </div>
        </div>
      </div>

      <h3>Next Steps</h3>
      <p>After setting up MongoDB:</p>
      <div
        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin: 2rem 0;">
        <div
          style="background: var(--panel-2); padding: 1.5rem; border-radius: var(--radius); border: 2px solid var(--border);">
          <h5 style="margin: 0 0 0.5rem 0; color: var(--text);">ü§ñ Google Gemini AI Setup</h5>
          <p style="margin: 0 0 1rem 0; color: var(--text-secondary);">Configure Google Gemini AI for course generation.
          </p>
          <a href="env-setup.html#gemini-setup" class="btn"
            style="display: inline-block; margin-top: 0.5rem; padding: 0.75rem 1.5rem; background: var(--brand); color: white; text-decoration: none; border-radius: var(--radius-sm); font-weight: 500; border: 2px solid var(--border); border-right: 4px solid var(--border); border-bottom: 4px solid var(--border);">Setup
            Guide ‚Üí</a>
        </div>

        <div
          style="background: var(--panel-2); padding: 1.5rem; border-radius: var(--radius); border: 2px solid var(--border);">
          <h5 style="margin: 0 0 0.5rem 0; color: var(--text);">üí≥ Configure Stripe</h5>
          <p style="margin: 0 0 1rem 0; color: var(--text-secondary);">Set up Stripe for subscription payments.</p>
          <a href="stripe-setup.html" class="btn"
            style="display: inline-block; margin-top: 0.5rem; padding: 0.75rem 1.5rem; background: var(--brand); color: white; text-decoration: none; border-radius: var(--radius-sm); font-weight: 500; border: 2px solid var(--border); border-right: 4px solid var(--border); border-bottom: 4px solid var(--border);">Setup
            Guide ‚Üí</a>
        </div>
      </div>

      <div class="callout success">
        <strong>üéâ Success!</strong> Your MongoDB database is now configured and ready for AI Course Generator. The
        application will automatically create the necessary collections and indexes when it starts.
      </div>
    </section>
  </main>
</body>

</html>